# General Rules & Regulations

RoboCup Japan Open 2022(以下RCJ2022)のOpen Platformリーグにおける競技は，このページに掲載されるGeneral Rulesに従って開催されます．
このGeneral Rulesについては，[RoboCup 2022 Rule Book](https://robocupathome.github.io/RuleBook/rulebook/master.pdf) Chapter 3 “General Rules & Regulations” をもとに作成しています．

<br>

## 1 チーム登録と参加資格
チーム登録(Registration)は日本ロボカップ委員会を通して行われます．RCJ2022では，チーム登録に2つの段階があります．

1. 事前登録
2. 最終登録

事前登録や最終登録についての情報は，RoboCup@Home JPのメーリングリストやSlack上で発表される予定です．この際，チーム選考(Qualification)は行いません．申し込み全チームが参加できます．

### 1.1 事前登録について
RCJ2022における事前登録(OPL，DSPL，Education)は下記のリンクからお願いします．チーム登録締め切りは2月6日となっております．多数のご登録お待ちしております．

:arrow_forward: [事前登録フォーム](https://forms.gle/WoXSpmo4Csi7cLeP6)

なお，各リーグは下記の通り実施いたします．事前登録フォームへの記入の際は，こちらの開催形式を含めて記入してください．よろしくお願いいたします．

- OPL, Education：現地開催のみ
- DSPL：現地・オンラインのハイブリッド開催

### 1.2 最終登録について
最終登録については準備中です．決まり次第，追記していきます．

<br>

## 2 観客との交流
RoboCup@Homeの魅力は，ロボットが何をすべきか，タスクの中で実際に何を行っているかを観客に見せることでもあります．特に，ロボットが何をしているかという情報を観客に提供することは，リーグの発展にとっても重要なことです．そのため，YouTubeなどの動画配信サービスを用いて，競技の様子を配信することがあります．

<br>

## 3 シナリオ
ほとんどの競技タスクは，RoboCup@Homeのアリーナで行われますが，一部のテストは外の今まで知られていなかった公共の場所で行われることもあります．ここでは，アリーナとその内容，特にテストとリーグで共通する調度品等について説明します．

### 3.1 RoboCup@Homeにおけるアリーナについて
RCJ2022におけるアリーナ情報については，現在準備中です．決まり次第，追記していきます．

### 3.2 アリーナの変更について
ロボットは現実の世界で機能する必要があるため，アリーナは固定されておらず，予告なく変更される場合があります．変更される場合があります．

1. メジャーチェンジ：日常的な環境では完全に静止していることが期待できない家具は，テストの間に少し移動されるかもしれません．家具の配置を変えたり，部屋の中を大きく移動したりすることはありませんが，ソファやテーブルが少し回転したり移動したりする可能性があります．RCJ2022では，そのような家具の固定位置を想定することは行いません．また，壁は固定され，部屋の機能は変わりませんが，通路は塞がれる可能性があります．

2. マイナーチェンジ：椅子が少し動いたり，ドアが少し閉まったりすることは避けられず，テスト中であってもいつ起こるかわかりません．

### 3.3 物体について
RoboCup@Homeでは，物体の認識と操作を伴うタスクがあります．このタスクで使用する9個の物体のリストを作成しています．物体リストは下記のリンクから確認できます．リストには，各物体の写真，正式名称，物体カテゴリ(例えば，AppleはFruitsカテゴリに属す)が記載されます．ほとんどのオブジェクトは軽量で，ロボットで簡単に掴むことができるようになっています．各物体のカテゴリーごとに設置されている場所や，片づけるべき場所が決まっています．このカテゴリを参照することで，競技中にそのカテゴリの物体を見つけたり，そのカテゴリの物体を片づけたりしていきます．物体を改造することは許されませんので，気を付けてください．

また，競技タスクでは，物体を「既知の物体」と「未知の物体」として分けて使用していきます．このとき，既知の物体とは，下記の物体リストで公開している物体のことを指しています．また，未知の物体とは，物体リストにない物体で，把持・操作可能なものを指しています．競技タスクによっては，この未知の物体を使用することがあります．

:arrow_forward: [物体リスト(RCAP2021で使用された物体)](https://github.com/RoboCupAtHomeJP/AtHome2021/blob/master/Data/opl_known_object_list.pdf)

- 検討事項
  - 競技本番は，各チームが持ち寄せた物体を用いるべきか？

<!-- ==================== ここまで修正 ====================

会場（演習室）についてメモ．
ネット環境：eduroamのサービスエリア内とのこと
電源：コンセントの位置など詳細な部屋の図面が入手できないか問い合わせ中


### 3.3.9 Wireless network
 Arena network（会場でのWiFi）は提供されません．インターネットへの接続が必要な場合は，各チームで4G等の公衆回線への接続手段を確保してください．公式のArena Networkが提供されないため，DSPLにおいても公衆回線への接続は可能とします．なお，会場でチーム独自のWiFiアクセスポイントを構築することは禁止です．





## 3.6 External computing
### 3.6.2. Official Standard Laptop for DSPL
本項目はRoboCup 2019ルールブックの内容を採用します．また，RoboCup 2019ルールブックに記載の追加デバイスも搭載可能とします．内容要約すると以下の通りです．
* HSRのMounting BracketでHSRに安全に搭載可能な如何なるLaptop PCも許可されます．
* 追加デバイスとして以下が許可されています．
  - USB オーディオ出力デバイス（例：USBスピーカーなど）1個
  - IEEE 802.11ac デバイス, IEEE802.3ab デバイス 各1個

参考：3.5.3 Official Standard Laptop for DSPL 及び 3.5.4 Authorized add-ons for DSPL  
https://athome.robocup.org/wp-content/uploads/2019_rulebook.pdf  
また，RCJ2019ルールとして以下が許可されます．  

  - USBまたはイーサネットケーブル接続のモバイルルータ

追加機器の外形寸法の合計は，USBスピーカーは30㎝以内，それ以外のデバイスは15㎝以内であること．また，20㎝以内のケーブルによって，HSR本体またはLaptop PCに接続すること．

  - (7/24追記) Official microphoneはないため，音声認識用の追加デバイスとして，各チームが独自で準備した無線マイクを利用することができる．使用する場合は，ロボットには設置せず，手持ちで利用する．

## 3.7 Organization of the competition
本節の全項目はRCJ2019では採用されません．
* Stage 1, 2という区分けはありません．RCJ2019では全チームが全タスクへの挑戦権を有します．また，別途アナウンスされるルール，配点，及びスケジュールで実施されます．
* Stage 2のOpen Challengeが実施されない代わりに，OPL，DSPLについては，全チームがFinalへの挑戦権を有し，独自の技術をアピールするOpen Demonstrationsの機会が与えられます．

## 3.8 Procedure during Tests
### 3.8.14 Time limits
各タスクで設定された制限時間にて運用します．

### 3.8.15 Restart
各タスクで設定されたリスタートルールにて運用します．

## 3.9 Bypassing features: CONTINUE rule
音声認識が入らずにタスクがスタートしない，モノがつかめずにタスクが続行しないなど，チーム，観客の双方にとって望ましくない状況を起こさないために，バイパス手段を積極的に活用することを推奨します．本家ルールに加えてRCJ2019では以下の項目を強く推奨します．
* QRコードの積極活用による音声認識代替手段の確実な確保
* ロボットに搭載されたタッチディスプレイなどによるHRIの活用．p44参照．
* ロボットの音声やディスプレイ表示を用いたレフェリーへの指示．例えば，ドアを開けてください，椅子をどかしてください，モノを取ってハンドの中に入れてください，など，ロボットが分かりやすく指示したことについては，レフェリーは最大限対応します．但し，音声が小さく聞き取れない，母国語では無い英語または日本語の指示が聞き取れない，画像が小さくて読めないなど，レフェリーの限界を超える点については対応できません．







## OPLで共通するルール
 - 各競技の最高得点は500点
   - Robot InspectionとFinalsを除く
 - チームはFinalsを除く各競技における最高得点の合計点で競う
 - FinalsはTechnical Challengeとして本競技と別枠で表彰する
   - Finalsのみの参加も可能
 - オペレータは自チームから出してよい
 - 制限時間内のリスタートは何回行ってもよい
   - リスタート直後のタスクの点数は半分になる(要検討)
   - リスタート時，ロボットが持っている場合は，物体を持たせたままにするか，取り上げるかはチームが選択できる
   - ただし取り上げた物体は，その後アリーナの外で保管
   - このTask中で取り上げた物体は使うことが出来ない
- 音声対話で聞き返す回数による減点はなし
- 競技の達成時間による加点はなし(要検討)

==================== ここまで修正 ==================== -->
