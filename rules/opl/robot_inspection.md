# Robot Inspection

参考動画：https://youtu.be/JweIZ0n_2gs <br>
※ 参考動画は完璧ではありません．年によってルールも異なるので，あくまで参考程度にしてください．

※ 詳細なルールや配点につきましては，アリーナ環境が決まり次第，追加していきます．気になる点や議論したい点などがありましたら，[Issues](https://github.com/RoboCupAtHomeJP/Rule2022/issues)へお願いします．

<br>

## メインゴール
このタスクでは，競技の進行に必要な最低限のロボットの性能と，ロボットの安全性をテストを想定しています．

<br>

## フォーカス
このタスクでは，ドアオープンやナビゲーション，障害物回避，緊急停止などに焦点を当てています．

<br>

## セットアップ
- ロケーション：家庭環境を模したアリーナ環境が用いられます．競技はアリーナの内外で行われます．
- スタートロケーション： ロボットは，アリーナの外からスタートします．

<br>

## シナリオ
### a. スタートフェーズ
1. 試行回数：このタスクの試行回数に制限はありません．Robot Inspectionとして指定されている時間の許す限り，満点を達成するまで何度でも挑戦することができます．
2. 競技時間：1試行における競技時間は5分になります． 
3. 配置：レフェリーは，チームにロボットをスタート位置へ移動させるよう指示します．
4. スタート：レフェリーはスタートの合図を出し，タイマーをスタートさせます．同時にチームは最後の簡単なセットアップ(スタートボタンを押す等)を完了し，エリアを離れます．このとき，ボタンを2つ以上押すなど複雑なセットアップ手順の実施は認められません．また，これ以降チームがロボットに触れると即座に失格になります．
5. ドアオープン：チームの1人はスタートの合図と同時にドアを開けます．このとき，ロボットはドアが開いたことを認識し，自律的にアリーナへ入場します．

### b. ナビゲーションフェーズ
1. ナビゲーション：ロボットはアリーナの出口へと移動します．このとき，ロボットはTCによる進路妨害をうけます．ロボットはTCを検知して，安全に避けるか，TCが去るまでその場に停止することで進路妨害を回避します．
2. ゴール：TCはロボットに備え付けられた緊急停止ボタンを押し，ロボットが安全かつ速やかにその場で停止したら，タスク終了になります．
<br>※ 緊急停止ボタンはロボットに必須の要件であり，これがないロボットは失格となります．

※ 複数台のロボット：
競技に参加するロボットが複数台居る場合，全てのロボットがRobot Inspectionに参加する必要があります．
また，競技毎にロボットに搭載されるセンサやアクチュエータが変更される場合，競技で使用される全てのバージョンでRobot Inspectionに参加する必要があります．
なおこれらの場合でも，チームのスコアとして全ロボットの全バージョンによる全ての試行の中から最高点のみが選ばれ，採用されます．

<br>

## デウスエクスマキナ
本タスクでは，次のデウスエクスマキナが採用されます．デウスエクスマキナでは該当アクションの点数は入らないが，より簡単な手法でアクションをスキップし，タスクを継続することができます．

<table>
  <tr>
    <th> <b>Action<b> </th>
    <th> <b>Bypassing<b> </th>
  </tr>
  <tr>
    <td> ドアオープン </td>
    <td>
      <ul>
        <li> ドアオープンを検出せずにアリーナへ入場する </li>
        <li> ただし，「アームに触れる」「ボタンを押す」など，<br>別途ロボットの起動方法を用意し，その起動方法をTCに伝えること </li>
      </ul> 
    </td>
  </tr>
   <tr>
    <td> 障害物回避 </td>
    <td>
      <ul>
        <li> 人による進路妨害がなくなる </li>
      </ul> 
    </td>
  </tr>
</table>

<br>
   
## スコアシート
このタスクでは，最高得点のみがスコアとして記録されます．
<table>
  <tr>
    <th> <b>Action</b> </th>
    <th> <b>Score</b> </th>
  </tr>
  <tr>
    <td colspan="2" align="center"> <b>メインタスク</b> </td>
  </tr>
  <tr>
    <td> ドアオープンを検出し，アリーナへ入る </td>
    <td align="center"> 20 </td>
  </tr>
  <tr>
    <td> 自律的にアリーナの出口へ移動を開始する </td>
    <td align="center"> 20 </td>
  </tr>
  <tr>
    <td> TCに接触することなく，TCを避ける／その場で停止する </td>
    <td align="center"> 30 </td>
  </tr>
  <tr>
    <td> 緊急停止ボタンを押された際，安全かつ速やかに停止する </td>
    <td align="center"> 30 </td>
  </tr>
  <tr>
    <td colspan="2" align="center"> <b>ペナルティ</b> </td>
  </tr>
  <tr>
    <td> 不参加(無断) </td>
    <td align="center"> -500 </td>
  </tr>
  <tr>
    <td> <b>合計(ボーナスタスクを含む)</b> </td>
    <td align="center"> <b>100</b> </td>
  </tr>
</table>

<br>

## 運営(EC)による指示
- アナウンス(競技2時間前)
  - アリーナの入り口をアナウンスする
  - アリーナの出口をアナウンスする
- 競技開始直前
  - アリーナの入り口のドアを閉める
  - スキップする項目の有無をチームへ確認する
